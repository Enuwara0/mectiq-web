<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MECTIQ | Robotics & Tech</title>
    <meta name="description" content="MECTIQ - Where Code Meets Reality. Innovative robotics and technology solutions. Coming Soon.">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Roboto+Mono:wght@300;400&display=swap" rel="stylesheet">

    <!-- Custom Styles -->
    <style>
        :root {
            --neon-cyan: #00f3ff;
            --neon-green: #0aff00;
            --deep-black: #050505;
            --terminal-bg: rgba(10, 15, 15, 0.95);
        }

        body {
            background-color: var(--deep-black);
            margin: 0;
            padding: 0;
            overflow: hidden; /* Prevent scrollbars on main body */
            color: white;
            font-family: 'Roboto Mono', monospace;
        }

        /* Canvas Positioning */
        #bg-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
        }

        /* Content Overlay */
        .content-layer {
            position: relative;
            z-index: 10;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background: radial-gradient(circle at center, transparent 0%, #000000 90%); /* Vignette effect */
            pointer-events: none; /* Let clicks pass through to canvas where no content exists */
        }

        .interactive-element {
            pointer-events: auto;
        }

        /* Typography & Glows */
        .brand-title {
            font-family: 'Orbitron', sans-serif;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            text-shadow: 
                0 0 10px rgba(255, 255, 255, 0.8),
                0 0 20px rgba(0, 243, 255, 0.5),
                0 0 40px rgba(0, 243, 255, 0.3);
        }

        .typewriter-cursor::after {
            content: '|';
            animation: blink 1s step-start infinite;
            color: var(--neon-cyan);
        }

        @keyframes blink {
            50% { opacity: 0; }
        }

        /* Neon Button */
        .neon-btn {
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
            box-shadow: 0 0 5px var(--neon-cyan), inset 0 0 5px var(--neon-cyan);
            backdrop-filter: blur(5px);
        }

        .neon-btn:hover {
            background-color: rgba(0, 243, 255, 0.1);
            box-shadow: 
                0 0 20px var(--neon-cyan), 
                inset 0 0 10px var(--neon-cyan);
            text-shadow: 0 0 8px white;
            transform: translateY(-2px);
        }

        .neon-btn-secondary {
            border-color: var(--neon-green);
            color: var(--neon-green);
            box-shadow: 0 0 5px var(--neon-green), inset 0 0 5px var(--neon-green);
        }

        .neon-btn-secondary:hover {
            background-color: rgba(10, 255, 0, 0.1);
            box-shadow: 
                0 0 20px var(--neon-green), 
                inset 0 0 10px var(--neon-green);
        }

        /* WhatsApp Icon Color */
        .wa-icon {
            fill: currentColor;
        }

        /* Terminal Modal */
        #terminal-modal {
            transition: opacity 0.3s ease, transform 0.3s ease;
        }
        
        .terminal-window {
            box-shadow: 0 0 30px rgba(0, 243, 255, 0.2);
            border: 1px solid rgba(0, 243, 255, 0.3);
        }

        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }
        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        .ai-message {
            color: var(--neon-cyan);
            text-shadow: 0 0 2px rgba(0, 243, 255, 0.5);
        }
        .user-message {
            color: white;
        }
        .typing-indicator::after {
            content: '...';
            animation: blink 1s steps(4, end) infinite;
        }
    </style>
</head>
<body>

    <!-- Background Animation Canvas -->
    <canvas id="bg-canvas"></canvas>

    <!-- Main Content -->
    <main class="content-layer px-4 w-full">
        
        <!-- Logo / Title -->
        <h1 class="brand-title text-5xl md:text-7xl lg:text-9xl font-black text-white mb-4 text-center select-none">
            MECTIQ
        </h1>

        <!-- Typewriter Slogan -->
        <div class="h-8 md:h-10 mb-8"> <!-- Fixed height to prevent layout shift -->
            <p class="text-neon-cyan text-sm md:text-xl lg:text-2xl tracking-widest text-cyan-400">
                <span id="typewriter-text"></span><span class="typewriter-cursor"></span>
            </p>
        </div>

        <!-- Status Indicator -->
        <div class="flex items-center space-x-2 mb-12 animate-pulse">
            <div class="w-2 h-2 md:w-3 md:h-3 bg-green-500 rounded-full shadow-[0_0_10px_#22c55e]"></div>
            <span class="text-xs md:text-sm text-gray-400 uppercase tracking-widest">System Status: Coming Soon...</span>
        </div>

        <!-- Buttons Container -->
        <div class="flex flex-col md:flex-row gap-4 items-center">
            
            <!-- WhatsApp CTA -->
            <a href="https://wa.me/94781295948" target="_blank" class="interactive-element neon-btn group border border-cyan-400 text-cyan-400 px-8 py-4 rounded-sm flex items-center gap-3 font-bold text-sm md:text-base tracking-wider hover:text-white no-underline w-64 justify-center">
                <svg class="w-6 h-6 wa-icon transition-transform group-hover:scale-110" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12.031 6.172c-3.181 0-5.767 2.586-5.768 5.766-.001 1.298.38 2.27 1.019 3.287l-.711 2.598 2.664-.698c.991.603 2.016.924 3.332.924h.013c3.181 0 5.768-2.586 5.768-5.766 0-1.545-.6-2.994-1.692-4.085-1.09-1.09-2.539-1.693-4.086-1.693zm-9.354 15.179c1.554 1.348 3.528 2.149 5.666 2.149 4.853 0 8.802-3.948 8.802-8.802 0-2.351-.916-4.561-2.578-6.224-1.664-1.661-3.874-2.577-6.224-2.577-4.854 0-8.801 3.949-8.801 8.802 0 2.179.848 4.195 2.264 5.766l-1.513 5.522 5.513-1.513z"/>
                </svg>
                WHATSAPP
            </a>

            <!-- AI Terminal CTA -->
            <button onclick="toggleTerminal()" class="interactive-element neon-btn neon-btn-secondary border border-green-400 text-green-400 px-8 py-4 rounded-sm flex items-center gap-3 font-bold text-sm md:text-base tracking-wider hover:text-white w-64 justify-center">
                <span>✨</span> ACCESS AI
            </button>
        </div>

        <!-- Footer Copyright -->
        <div class="absolute bottom-6 text-gray-600 text-[10px] md:text-xs tracking-wider">
            &copy; <script>document.write(new Date().getFullYear())</script> MECTIQ SYSTEMS. ALL RIGHTS RESERVED.
        </div>
    </main>

    <!-- AI Terminal Modal -->
    <div id="terminal-modal" class="fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm hidden opacity-0 interactive-element">
        <div class="terminal-window bg-black/90 w-full max-w-2xl h-[80vh] md:h-[600px] rounded-lg flex flex-col m-4 overflow-hidden relative">
            
            <!-- Terminal Header -->
            <div class="bg-gray-900 border-b border-gray-700 p-2 flex justify-between items-center px-4">
                <div class="flex items-center gap-2">
                    <div class="w-3 h-3 rounded-full bg-red-500"></div>
                    <div class="w-3 h-3 rounded-full bg-yellow-500"></div>
                    <div class="w-3 h-3 rounded-full bg-green-500"></div>
                    <span class="ml-2 text-xs text-gray-400 font-mono">MECTIQ-1.0 // TERMINAL_ACCESS</span>
                </div>
                <button onclick="toggleTerminal()" class="text-gray-400 hover:text-white transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>

            <!-- Terminal Output Area -->
            <div id="terminal-output" class="flex-1 p-4 overflow-y-auto scrollbar-hide font-mono text-sm space-y-4">
                <div class="text-gray-400">
                    > SYSTEM_INIT... OK<br>
                    > CONNECTING_TO_CORE... OK<br>
                    > MECTIQ AI INTERFACE READY.<br>
                    > Welcome. I am MECTIQ-1. How can I assist you with Robotics or IoT today?
                </div>
                <!-- Quick Action Chip -->
                <div class="flex gap-2 mt-4">
                    <button onclick="generateConcept()" class="text-xs bg-gray-800 hover:bg-gray-700 text-cyan-400 border border-cyan-400/30 px-3 py-1 rounded transition-colors flex items-center gap-1">
                        <span>✨</span> Generate Robotic Concept
                    </button>
                </div>
            </div>

            <!-- Terminal Input Area -->
            <div class="bg-gray-900/50 p-4 border-t border-gray-800">
                <form onsubmit="handleCommand(event)" class="flex gap-2">
                    <span class="text-green-500 font-bold select-none">></span>
                    <input type="text" id="terminal-input" autocomplete="off" 
                        class="bg-transparent border-none outline-none text-white w-full font-mono placeholder-gray-600" 
                        placeholder="Type your command or question...">
                    <button type="submit" class="text-gray-400 hover:text-white transition-colors">
                        ↵
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script>
        /**
         * TYPEWRITER EFFECT
         */
        const textToType = "Where Code Meets Reality";
        const typeWriterElement = document.getElementById('typewriter-text');
        let charIndex = 0;

        function typeWriter() {
            if (charIndex < textToType.length) {
                typeWriterElement.innerHTML += textToType.charAt(charIndex);
                charIndex++;
                setTimeout(typeWriter, 100); // Typing speed
            }
        }

        // Start typing after a brief delay
        setTimeout(typeWriter, 500);


        /**
         * CANVAS NETWORK ANIMATION
         * A connected particle system that reacts to mouse proximity.
         */
        const canvas = document.getElementById('bg-canvas');
        const ctx = canvas.getContext('2d');
        
        let width, height;
        let particles = [];
        
        // Configuration
        const config = {
            particleColor: 'rgba(0, 243, 255, 0.7)', // Cyan
            lineColor: 'rgba(0, 243, 255, 0.2)',
            particleAmount: 0, // Calculated based on screen size
            defaultSpeed: 0.5,
            variantSpeed: 1,
            linkRadius: 140, // Distance to connect particles
            mouseRadius: 200 // Distance to connect to mouse
        };

        // Mouse tracking
        let mouse = { x: null, y: null };

        window.addEventListener('mousemove', (e) => {
            mouse.x = e.x;
            mouse.y = e.y;
        });
        
        // Touch support for mobile
        window.addEventListener('touchmove', (e) => {
            mouse.x = e.touches[0].clientX;
            mouse.y = e.touches[0].clientY;
        });

        window.addEventListener('mouseout', () => {
            mouse.x = null;
            mouse.y = null;
        });

        // Resize handling
        function resize() {
            width = canvas.width = window.innerWidth;
            height = canvas.height = window.innerHeight;
            
            // Adjust particle count based on screen area (responsiveness)
            const area = width * height;
            config.particleAmount = Math.floor(area / 9000); // 1 particle per 9000px
            
            initParticles();
        }

        class Particle {
            constructor() {
                this.x = Math.random() * width;
                this.y = Math.random() * height;
                this.vx = (Math.random() - 0.5) * config.variantSpeed;
                this.vy = (Math.random() - 0.5) * config.variantSpeed;
                this.size = Math.random() * 2 + 1; // Random size 1-3px
            }

            update() {
                // Move
                this.x += this.vx;
                this.y += this.vy;

                // Bounce off edges
                if (this.x < 0 || this.x > width) this.vx *= -1;
                if (this.y < 0 || this.y > height) this.vy *= -1;
            }

            draw() {
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fillStyle = config.particleColor;
                ctx.fill();
            }
        }

        function initParticles() {
            particles = [];
            for (let i = 0; i < config.particleAmount; i++) {
                particles.push(new Particle());
            }
        }

        function animate() {
            ctx.clearRect(0, 0, width, height);
            
            // Update and draw particles
            for (let i = 0; i < particles.length; i++) {
                particles[i].update();
                particles[i].draw();

                // Connect particles to each other
                for (let j = i; j < particles.length; j++) {
                    const dx = particles[i].x - particles[j].x;
                    const dy = particles[i].y - particles[j].y;
                    const distance = Math.sqrt(dx * dx + dy * dy);

                    if (distance < config.linkRadius) {
                        ctx.beginPath();
                        ctx.strokeStyle = config.lineColor;
                        ctx.lineWidth = 1 - (distance / config.linkRadius); // Fade out as distance increases
                        ctx.moveTo(particles[i].x, particles[i].y);
                        ctx.lineTo(particles[j].x, particles[j].y);
                        ctx.stroke();
                    }
                }

                // Connect particles to mouse
                if (mouse.x != null) {
                    const dx = particles[i].x - mouse.x;
                    const dy = particles[i].y - mouse.y;
                    const distance = Math.sqrt(dx * dx + dy * dy);

                    if (distance < config.mouseRadius) {
                        ctx.beginPath();
                        ctx.strokeStyle = 'rgba(0, 243, 255, 0.4)'; // Brighter connection to mouse
                        ctx.lineWidth = 1;
                        ctx.moveTo(particles[i].x, particles[i].y);
                        ctx.lineTo(mouse.x, mouse.y);
                        ctx.stroke();
                    }
                }
            }
            
            requestAnimationFrame(animate);
        }

        // Initialize Canvas
        window.addEventListener('resize', resize);
        resize();
        animate();


        /**
         * AI TERMINAL & GEMINI INTEGRATION
         */
        const modal = document.getElementById('terminal-modal');
        const output = document.getElementById('terminal-output');
        const input = document.getElementById('terminal-input');
        
        function toggleTerminal() {
            if (modal.classList.contains('hidden')) {
                modal.classList.remove('hidden');
                // Small timeout to allow display:block to apply before opacity transition
                setTimeout(() => {
                    modal.classList.remove('opacity-0');
                    input.focus();
                }, 10);
            } else {
                modal.classList.add('opacity-0');
                setTimeout(() => {
                    modal.classList.add('hidden');
                }, 300);
            }
        }

        function appendMessage(text, type) {
            const div = document.createElement('div');
            div.className = type === 'user' ? 'user-message' : 'ai-message';
            
            if (type === 'user') {
                div.innerHTML = `<span class="text-green-500 mr-2">></span> ${text}`;
            } else {
                div.innerHTML = `<span class="text-cyan-500 mr-2">MECTIQ:</span> ${text}`;
            }
            
            output.appendChild(div);
            output.scrollTop = output.scrollHeight;
        }

        function appendLoading() {
            const div = document.createElement('div');
            div.id = 'loading-indicator';
            div.className = 'text-cyan-500 typing-indicator';
            div.innerHTML = `PROCESSING_DATA`;
            output.appendChild(div);
            output.scrollTop = output.scrollHeight;
            return div;
        }

        async function handleCommand(e) {
            e.preventDefault();
            const text = input.value.trim();
            if (!text) return;

            appendMessage(text, 'user');
            input.value = '';

            await callGemini(text);
        }

        async function generateConcept() {
            const prompt = "Generate a short, innovative, futuristic robotic product concept that solves a real-world problem. Format: 'CONCEPT: [Name] - [Description]'. Keep it under 2 sentences.";
            appendMessage("EXECUTING: GENERATE_ROBOTIC_CONCEPT_PROTOCOL...", 'user');
            await callGemini(prompt, true);
        }

        async function callGemini(prompt, isConcept = false) {
            const loading = appendLoading();
            const apiKey = ""; // API key will be injected by the environment

            const systemPrompt = "You are MECTIQ-1, an advanced AI terminal for a high-tech robotics company called MECTIQ. Your tone is futuristic, precise, and helpful. You specialize in robotics, IoT, and automation. Keep answers concise (under 80 words) and use technical terminology where appropriate but remain accessible. If asked about MECTIQ's specific products, say they are 'classified' or 'in development'.";

            try {
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        contents: [{
                            parts: [{ text: prompt }]
                        }],
                        systemInstruction: {
                            parts: [{ text: systemPrompt }]
                        }
                    })
                });

                const data = await response.json();
                
                // Remove loading indicator
                loading.remove();

                if (data.error) {
                    appendMessage("ERROR: CONNECTION_INTERRUPTED. PLEASE TRY AGAIN.", 'ai');
                    console.error("Gemini API Error:", data.error);
                } else {
                    let aiText = data.candidates[0].content.parts[0].text;
                    // Add sparkle if it's a concept generation
                    if (isConcept) aiText = "✨ " + aiText;
                    appendMessage(aiText, 'ai');
                }

            } catch (error) {
                loading.remove();
                appendMessage("CRITICAL ERROR: NETWORK_FAILURE.", 'ai');
                console.error("Fetch Error:", error);
            }
        }
    </script>
</body>
</html>
